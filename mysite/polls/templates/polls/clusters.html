<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Upload CSV</title>
</head>
<body>
    <h2>Clusterização</h2>
    <form method="post">
        {% csrf_token %}
        
        <label for="n_clusters">Número de clusters:</label><br>
        <input type="number" name="n_clusters" id="n_clusters" value="3" min="2" required><br><br>

        <h3>Selecione as colunas para clusterização</h3>
        {% for coluna in colunas %}
            <div>
                <label>
                    <input type="checkbox" name="colunas" value="{{ coluna }}">
                    {{ coluna }}
                </label>
            </div>
        {% endfor %}
        <br>

        <label for="normalizacao">Método de Normalização:</label><br>
        <select name="normalizacao" id="normalizacao">
            <option value="soma">Dividir pela soma (atual)</option>
            <option value="zscore">Z-Score</option>
            <option value="nenhuma">Nenhuma</option>
        </select><br><br>

        <label for="nulos">Tratamento de valores nulos:</label><br>
        <select name="nulos" id="nulos">
            <option value="drop">Descartar linhas com NaN</option>
            <option value="zero">Preencher com 0</option>
            <option value="media">Preencher com média</option>
        </select><br><br>

        <button type="submit">Executar Clusterização</button>
    </form>

    {% if mensagem %}
        <p>{{ mensagem }}</p>
    {% endif %}

    <form action="{% url 'index_sem_limpar' %}" method="get" style="margin-top: 20px;">
        <button type="submit">Voltar</button>
    </form>
        <form action="{% url 'analise_clusters' %}" method="get" style="margin-top: 20px;">
        <button type="submit">analise_clusters</button>
    </form>
</body>

</html>
